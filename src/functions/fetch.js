import RequestCache from '../request-cache';

export function fetch(url) {
  return new Promise(function(resolve, reject) {
    RequestCache.request(url, function(error, response, body) {
      resolve({
        url: url,
        error: error,
        response: response,
        body: body,
      });
    });
  });
};

export function fetchWithoutRedirect(url) {
  return new Promise(function(resolve, reject) {
    RequestCache.request({ url: url, followRedirect: false }, function(error, response, body) {
      resolve({
        url: url,
        error: error,
        response: response,
        body: body,
      });
    });
  });
};
