const getNamespace = (reports, namespace) => {
  return reports.filter((report) => {
    return report.namespace === namespace;
  });
};

export default function(url, reports) {
  reports.sort((a, b) => {
    if (a.namespace === b.namespace) {
      return a.importance < b.importance ? -1 : a.importance > b.importance ? 1 : 0;
    } else {
      return a.namespace < b.namespace ? -1 : 1;
    }
  });

  const content = [];
  const namespaces = [ 'Security', 'HTML', 'WordPress' ];

  content.push('Report for ' + url);

  namespaces.forEach((namespace) => {
    const namespaceReports = getNamespace(reports, namespace);
    content.push('');
    content.push(namespace);
    namespaceReports.forEach((report) => {
      content.push('');
      content.push(report.text + ' ' + report.url);
      content.push(report.description);
    });
  });

  console.log(content.join('\n'));
}
