const getNamespace = (reports, namespace) => {
  return reports.filter((report) => {
    return report.namespace === namespace;
  });
};

export default function(url, reports) {
  reports.sort((a, b) => {
    if (a.namespace === b.namespace) {
      return a.importance < b.importance ? -1 : a.importance > b.importance ? 1 : 0;
    } else {
      return a.namespace < b.namespace ? -1 : 1;
    }
  });
  const content = [];
  reports.forEach((report) => {
    content.push('');
    if (report.error) {
      if (report.importance < 40) {
        content.push('\x1b[33mLow\x1b[0m ' + report.text + ' ' + report.url);
      } else if (report.importance < 80) {
        content.push('\x1b[35mMedium\x1b[0m ' + report.text + ' ' + report.url);
      } else {
        content.push('\x1b[31mHigh\x1b[0m ' + report.text + ' ' + report.url);
      }
    } else {
      content.push('\x1b[32mGood\x1b[0m ' + report.text + ' ' + report.url);
    }
    report.description.length > 0 && content.push(report.description);

  });

  console.log(content.join('\n'));
}
