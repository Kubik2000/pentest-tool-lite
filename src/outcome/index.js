class Outcome {
  constructor() {
    this.messages = {};
  }

  newMessage(namespace, type, url, text) {
    if (!this.messages.hasOwnProperty(namespace)) {
      this.messages[namespace] = {};
    }

    if (!this.messages[namespace].hasOwnProperty(url)) {
      this.messages[namespace][url] = [];
    }

    this.messages[namespace][url].push({ type: type, text: text });
  }

  info(namespace, url, text) {
    this.newMessage(namespace, 'info', url, text);
  }

  warning(namespace, url, text) {
    this.newMessage(namespace, 'warning', url, text);
  }

  error(namespace, url, text) {
    this.newMessage(namespace, 'error', url, text);
  }

  getMessages() {
    return this.messages;
  }

  removeMessages() {
    this.messages = {};
  }
}

export default new Outcome();
