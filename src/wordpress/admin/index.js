import * as fetch from '../../functions/fetch.js';
import urlToAdmin from './urlToAdmin.js';
import admin from './admin.js';
import error from './error.js';

export default function(url) {
  return Promise.resolve(url)
    .then(urlToAdmin)
    .then(fetch.fetch)
    .then(admin)
    .then((err) => {
      error(url, err);
    })
    .then(() => { return url; });
};
