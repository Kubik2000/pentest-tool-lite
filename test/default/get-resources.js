import chai from 'chai';
const expect = chai.expect;
import getResources from '../../src/default/getResources.js';

describe('test getResources', function() {
  it('should return all scripts and stylesheets', () => {
    const html = [
      {
        type: 'tag',
        name: 'html',
        children: [
          {
            type: 'tag',
            name: 'head',
            children: [
              {
                type: 'tag',
                name: 'title',
              },
              {
                type: 'tag',
                name: 'link',
                attribs: {
                  href: 'styles.css',
                  rel: 'stylesheet',
                },
              },
              {
                type: 'script',
                name: 'script',
                attribs: {
                  src: 'script.js',
                },
              },
            ],
          },
          {
            type: 'tag',
            name: 'body',
            children: [
              {
                type: 'tag',
                name: 'h1',
              },
              {
                type: 'script',
                name: 'script',
                attribs: {
                  src: 'script2.js',
                },
              },
            ],
          },
        ],
      },
    ];
    const resources = getResources(html);

    expect(resources).to.have.members([
      'styles.css',
      'script.js',
      'script2.js',
    ]);
  });
});
