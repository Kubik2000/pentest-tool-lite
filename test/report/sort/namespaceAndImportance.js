import chai from 'chai';
const expect = chai.expect;
import namespaceAndImportance from '../../../src/report/sort/namespaceAndImportance.js';

describe('report', function() {
  describe('test namespaceAndImportance function', function() {
    it('should return sorted reports', () => {
      const reports = [
        { namespace: 'A', importance: 20, text: 'First' },
        { namespace: 'A', importance: 60, text: 'Second' },
        { namespace: 'A', importance: 40, text: 'Third' },
        { namespace: 'C', importance: 60, text: 'C - first' },
        { namespace: 'C', importance: 40, text: 'C - second' },
        { namespace: 'C', importance: 20, text: 'C - third' },
        { namespace: 'B', importance: 20, text: 'B - first' },
        { namespace: 'B', importance: 40, text: 'B - second' },
        { namespace: 'B', importance: 41, text: 'B - third' },
      ].sort(namespaceAndImportance);

      expect(reports).to.deep.equal([
        { namespace: 'A', importance: 20, text: 'First' },
        { namespace: 'A', importance: 40, text: 'Third' },
        { namespace: 'A', importance: 60, text: 'Second' },
        { namespace: 'B', importance: 20, text: 'B - first' },
        { namespace: 'B', importance: 40, text: 'B - second' },
        { namespace: 'B', importance: 41, text: 'B - third' },
        { namespace: 'C', importance: 20, text: 'C - third' },
        { namespace: 'C', importance: 40, text: 'C - second' },
        { namespace: 'C', importance: 60, text: 'C - first' },
      ]);
    });
  });
});
