import chai from 'chai';
const expect = chai.expect;
import checkGenerator from '../../../src/wordpress/generator/generator.js';

describe('wordpress', function() {
  describe('test generator function', function() {
    it('should throw error', () => {
      const html = [
        {
          type: 'tag',
          name: 'html',
          children: [
            {
              type: 'tag',
              name: 'head',
              children: [
                {
                  type: 'tag',
                  name: 'title',
                },
                {
                  type: 'tag',
                  name: 'meta',
                  attribs: {
                      name: 'generator',
                      content: 'WordPress X.Y.Z',
                  },
                },
              ],
            },
            {
              type: 'tag',
              name: 'body',
              children: [],
            },
          ],
        },
      ];

      expect(checkGenerator.bind(null, html)).to.throw();
    });

    it('should return without error', () => {
      const html = [
        {
          type: 'tag',
          name: 'html',
          children: [
            {
              type: 'tag',
              name: 'head',
              children: [
                {
                  type: 'tag',
                  name: 'title',
                },
              ],
            },
            {
              type: 'tag',
              name: 'body',
              children: [],
            },
          ],
        },
      ];

      expect(checkGenerator.bind(null, html)).to.not.throw();
    });
  });
});
