import chai from 'chai';
const expect = chai.expect;
import checkAdmin from '../../../src/wordpress/admin/admin.js';

describe('wordpress', function() {
  describe('test admin function', function() {
    it('should throw error', () => {
      const html = {
        body: '<html><head><title>Log in</title></head><body><form name="loginform" id="loginform" action="https://www.juffalow.com/wp-login.php" method="post"><input type="text" name="log" id="user_login" class="input" value="" size="20" /></label><input type="password" name="pwd" id="user_pass" class="input" value="" size="20" /></label></form></body></html>',
      };

      expect(checkAdmin.bind(null, html)).to.throw();
    });

    it('should return without error', () => {
      const html = {
        body: '<html><head><title>juffalow</title></head><body><h1>Page without any login form</h1></html>',
      };

      expect(checkAdmin.bind(null, html)).to.not.throw();
    });
  });
});
