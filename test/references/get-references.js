import chai from 'chai';
const expect = chai.expect;
import getReferences from '../../src/references/getReferences.js';

describe('test getReferences', function() {
  it('should return every link - anchor', () => {
    const html = [
      {
        type: 'tag',
        name: 'html',
        children: [
          {
            type: 'tag',
            name: 'body',
            children: [
              {
                type: 'tag',
                name: 'div',
                children: [
                  {
                    type: 'tag',
                    name: 'a',
                    attribs: {
                      href: 'https://example.com',
                    },
                  },
                  {
                    type: 'tag',
                    name: 'a',
                    attribs: {
                      href: 'https://example1.com',
                    },
                  },
                ],
              },
              {
                type: 'tag',
                name: 'div',
                children: [
                  {
                    type: 'tag',
                    name: 'a',
                    attribs: {
                      href: 'https://example2.com',
                    },
                  },
                  {
                    type: 'tag',
                    name: 'a',
                    attribs: {
                      href: 'https://example3.com',
                    },
                  },
                ],
              },
            ],
          },
        ],
      },
    ];

    const references = getReferences(html);

    expect(references).to.deep.equal([
      'https://example.com',
      'https://example1.com',
      'https://example2.com',
      'https://example3.com',
    ]);
  });
});
