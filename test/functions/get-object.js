import chai from 'chai';
const expect = chai.expect;
import getObject from '../../src/functions/getObject.js';

describe('functions', function() {
  describe('test getObject', function() {
    it('should return h1 tag', () => {
      const html = [
        {
          type: 'tag',
          name: 'html',
          children: [
            {
              type: 'tag',
              name: 'body',
              children: [
                {
                  type: 'tag',
                  name: 'h1',
                },
              ],
            },
          ],
        },
      ];
      const object = getObject(html, 'name', 'h1');

      expect(object).to.deep.equal([{ type: 'tag', name: 'h1' }]);
    });

    it('should return every link - anchor - a tag', () => {
      const html = [
        {
          type: 'tag',
          name: 'html',
          children: [
            {
              type: 'tag',
              name: 'body',
              children: [
                {
                  type: 'tag',
                  name: 'div',
                  children: [
                    {
                      type: 'tag',
                      name: 'a',
                      href: 'https://example.com',
                    },
                    {
                      type: 'tag',
                      name: 'a',
                      href: 'https://example1.com',
                    },
                  ],
                },
                {
                  type: 'tag',
                  name: 'div',
                  children: [
                    {
                      type: 'tag',
                      name: 'a',
                      href: 'https://example2.com',
                    },
                    {
                      type: 'tag',
                      name: 'a',
                      href: 'https://example3.com',
                    },
                  ],
                },
              ],
            },
          ],
        },
      ];
      const object = getObject(html, 'name', 'a');

      expect(object).to.deep.equal([
        { type: 'tag', name: 'a', href: 'https://example.com' },
        { type: 'tag', name: 'a', href: 'https://example1.com' },
        { type: 'tag', name: 'a', href: 'https://example2.com' },
        { type: 'tag', name: 'a', href: 'https://example3.com' },
      ]);
    });
  });
});
